{"orig":"/Users/scott/src/model_citizen/src/ed/types.nim","nimble":"model_citizen","moduleDescription":"","entries":[{"name":"EID","type":"skType","line":5,"col":7,"code":"EID = uint16","description":"Callback identifier for tracking registered callbacks."},{"name":"EdFlags","type":"skType","line":8,"col":11,"code":"EdFlags = enum\n  TRACK_CHILDREN,           ## Propagate changes from nested `Ed` objects\n  SYNC_LOCAL,               ## Sync changes to other local contexts (threads)\n  SYNC_REMOTE,              ## Sync changes to remote contexts (network)\n  SYNC_ALL_NO_OVERWRITE      ## Sync without overwriting existing data","description":"Flags controlling <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> container behavior."},{"name":"ChangeKind","type":"skType","line":15,"col":14,"code":"ChangeKind = enum\n  CREATED,                  ## Object was created\n  ADDED,                    ## Item was added (sequences, sets, tables)\n  REMOVED,                  ## Item was removed\n  MODIFIED,                 ## Value was modified\n  TOUCHED,                  ## Object was touched without modification\n  CLOSED                     ## Object was destroyed","description":"Types of changes that can occur on an <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> container."},{"name":"MessageKind","type":"skType","line":24,"col":15,"code":"MessageKind = enum\n  BLANK, CREATE, DESTROY, ASSIGN, UNASSIGN, TOUCH, SUBSCRIBE, PACKED,\n  BULK_ASSIGN"},{"name":"BaseChange","type":"skType","line":35,"col":14,"code":"BaseChange = ref object of RootObj\n  changes*: set[ChangeKind]\n  field_name*: string\n  triggered_by*: seq[BaseChange]\n  triggered_by_type*: string\n  type_name*: string"},{"name":"PackedMessageOperation","type":"skType","line":47,"col":26,"code":"PackedMessageOperation = tuple[kind: MessageKind, ref_id: int,\n                               change_object_id: string, obj: string]"},{"name":"IdMapping","type":"skType","line":50,"col":13,"code":"IdMapping = tuple[short_id: uint8, full_id: string]"},{"name":"Change","type":"skType","line":76,"col":13,"code":"Change[O] = ref object of BaseChange\n  item*: O","description":"Represents a change to an <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> container, including the affected item."},{"name":"RegisteredType","type":"skType","line":89,"col":18,"code":"RegisteredType = object\n  tid*: int\n  name*: string\n  stringify*: proc (self: ref RootObj): string {.no_side_effect.}\n  parse*: proc (ctx: EdContext; clone_from: string): ref RootObj {.\n      no_side_effect.}"},{"name":"SubscriptionKind","type":"skType","line":96,"col":20,"code":"SubscriptionKind = enum\n  BLANK, LOCAL, REMOTE"},{"name":"Subscription","type":"skType","line":101,"col":16,"code":"Subscription = ref object\n  ctx_id*: string\n  next_short_id*: uint8\n  id_to_short*: Table[string, uint8]\n  short_to_id*: Table[uint8, string]\n  case kind*: SubscriptionKind\n  of LOCAL:\n    chan*: Chan[Message]\n    chan_buffer*: seq[Message]\n  of REMOTE:\n    connection*: Connection\n    last_sent_time*: float64\n  else:\n    nil"},{"name":"EdContext","type":"skType","line":117,"col":13,"code":"EdContext = ref object\n  id*: string\n  objects*: OrderedTable[string, ref EdBase]\n  objects_need_packing*: bool\n  subscribers*: seq[Subscription]\n  reactor*: Reactor\n  subscribing*: bool\n  value_initializers*: seq[proc () {.gcsafe.}]\n  unsubscribed*: seq[string]\n  metrics_label*: string\n  free_queue*: seq[string]\n  last_keepalive_tick*: float64\n  when defined(dump_ed_objects):\n    dump_at*: MonoTime\n    counts*: array[MessageKind, int]","description":"Central coordination object managing <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> container lifecycle, subscriptions, and message passing between threads/network."},{"name":"EdBase","type":"skType","line":149,"col":10,"code":"EdBase = object of RootObj\n  id*: string\n  destroyed*: bool\n  flags*: set[EdFlags]\n  ctx*: EdContext","description":"Base type for all <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> containers. Not used directly."},{"name":"Ed","type":"skType","line":176,"col":12,"code":"Ed[T; O] = ref object of EdObject[T, O]","description":"Generic reactive container. T is the contained type, O is the change object type."},{"name":"EdTable","type":"skType","line":179,"col":17,"code":"EdTable[K; V] = Ed[Table[K, V], Pair[K, V]]","description":"Reactive table container. Changes report key-value pairs."},{"name":"EdSeq","type":"skType","line":182,"col":12,"code":"EdSeq[T] = Ed[seq[T], T]","description":"Reactive sequence container."},{"name":"EdSet","type":"skType","line":185,"col":12,"code":"EdSet[T] = Ed[set[T], T]","description":"Reactive set container."},{"name":"EdValue","type":"skType","line":188,"col":14,"code":"EdValue[T] = Ed[T, T]","description":"Reactive single-value container."},{"name":"DEFAULT_FLAGS","type":"skConst","line":191,"col":6,"code":"DEFAULT_FLAGS = {SYNC_LOCAL, SYNC_REMOTE}","description":"Default flags for <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> containers: sync both locally and remotely."},{"name":"ed_ignore","type":"skTemplate","line":194,"col":0,"code":"template ed_ignore() {.pragma.}","signature":{"pragmas":["pragma"]},"description":"Mark a field to be ignored during <tt class=\"docutils literal\"><span class=\"pre\"><span class=\"Identifier\">Ed</span></span></tt> serialization."},{"name":"write_value","type":"skProc","line":197,"col":0,"code":"proc write_value[T](w: var JsonWriter; self: set[T])","signature":{"arguments":[{"name":"w","type":"var JsonWriter"},{"name":"self","type":"set[T]"}],"genericParams":[{"name":"T"},{"name":"JsonWriter","types":"JsonWriter[any]"}]}},{"name":"write_value","type":"skProc","line":200,"col":0,"code":"proc write_value(w: var JsonWriter; self: EdContext)","signature":{"arguments":[{"name":"w","type":"var JsonWriter"},{"name":"self","type":"EdContext"}],"genericParams":[{"name":"JsonWriter","types":"JsonWriter[any]"}]}},{"name":"write_value","type":"skProc","line":203,"col":0,"code":"proc write_value(w: var JsonWriter; self: Subscription)","signature":{"arguments":[{"name":"w","type":"var JsonWriter"},{"name":"self","type":"Subscription"}],"genericParams":[{"name":"JsonWriter","types":"JsonWriter[any]"}]}},{"name":"to_flatty","type":"skProc","line":207,"col":0,"code":"proc to_flatty(s: var string; msg: Message) {.raises: [], tags: [], forbids: [].}","signature":{"arguments":[{"name":"s","type":"var string"},{"name":"msg","type":"Message"}],"pragmas":["raises: []","tags: []","forbids: []"]}},{"name":"from_flatty","type":"skProc","line":223,"col":0,"code":"proc from_flatty(s: string; i: var int; msg: var Message) {.raises: [],\n    tags: [], forbids: [].}","signature":{"arguments":[{"name":"s","type":"string"},{"name":"i","type":"var int"},{"name":"msg","type":"var Message"}],"pragmas":["raises: []","tags: []","forbids: []"]}}]}